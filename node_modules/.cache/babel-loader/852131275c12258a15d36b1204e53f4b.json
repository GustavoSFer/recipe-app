{"ast":null,"code":"import _regeneratorRuntime from\"/home/gustavo/github/recipe-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/gustavo/github/recipe-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/gustavo/github/recipe-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState,useEffect}from'react';import{getAreas,getMealsByArea,getMeals}from'../services/requestApi';import ContextAppReceita from'../ContextAPI/ContextAppReceita';function RenderAreaOptions(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),areas=_useState2[0],setAreas=_useState2[1];var _useContext=useContext(ContextAppReceita),setMeals=_useContext.setMeals;useEffect(function(){function getAreasFunc(){return _getAreasFunc.apply(this,arguments);}function _getAreasFunc(){_getAreasFunc=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getAreas();case 2:response=_context.sent;setAreas(response);case 4:case\"end\":return _context.stop();}}},_callee);}));return _getAreasFunc.apply(this,arguments);}getAreasFunc();},[]);function changeArea(_x){return _changeArea.apply(this,arguments);}function _changeArea(){_changeArea=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var area,response,_response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:area=e.target.value;if(!(area==='All')){_context2.next=8;break;}_context2.next=4;return getMeals();case 4:response=_context2.sent;setMeals(response);_context2.next=12;break;case 8:_context2.next=10;return getMealsByArea(area);case 10:_response=_context2.sent;setMeals(_response);case 12:case\"end\":return _context2.stop();}}},_callee2);}));return _changeArea.apply(this,arguments);}return/*#__PURE__*/React.createElement(\"select\",{\"data-testid\":\"explore-by-area-dropdown\",onChange:changeArea,className:\"form-select my-3\",\"aria-label\":\"Selecione uma regiao\"},/*#__PURE__*/React.createElement(\"option\",{value:\"All\",\"data-testid\":\"All-option\",defaultChecked:true},\"All\"),areas.map(function(_ref){var strArea=_ref.strArea;return/*#__PURE__*/React.createElement(\"option\",{key:strArea,value:strArea,\"data-testid\":\"\".concat(strArea,\"-option\")},strArea);}));}export default RenderAreaOptions;","map":{"version":3,"sources":["/home/gustavo/github/recipe-app/src/Components/RenderAreaOptions.jsx"],"names":["React","useContext","useState","useEffect","getAreas","getMealsByArea","getMeals","ContextAppReceita","RenderAreaOptions","areas","setAreas","setMeals","getAreasFunc","response","changeArea","e","area","target","value","map","strArea"],"mappings":"+bAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,CAA4BC,QAA5B,CAAsCC,SAAtC,KAAuD,OAAvD,CACA,OAASC,QAAT,CAAmBC,cAAnB,CAAmCC,QAAnC,KAAmD,wBAAnD,CACA,MAAOC,CAAAA,iBAAP,KAA8B,iCAA9B,CAEA,QAASC,CAAAA,iBAAT,EAA6B,eACDN,QAAQ,CAAC,EAAD,CADP,wCACpBO,KADoB,eACbC,QADa,+BAENT,UAAU,CAACM,iBAAD,CAFJ,CAEnBI,QAFmB,aAEnBA,QAFmB,CAI3BR,SAAS,CAAC,UAAM,SACCS,CAAAA,YADD,8IACd,sKACyBR,CAAAA,QAAQ,EADjC,QACQS,QADR,eAEEH,QAAQ,CAACG,QAAD,CAAR,CAFF,sDADc,+CAKdD,YAAY,GACb,CANQ,CAMN,EANM,CAAT,CAJ2B,QAYZE,CAAAA,UAZY,0IAY3B,kBAA0BC,CAA1B,kJACQC,IADR,CACeD,CAAC,CAACE,MAAF,CAASC,KADxB,MAEMF,IAAI,GAAK,KAFf,kDAG2BV,CAAAA,QAAQ,EAHnC,QAGUO,QAHV,gBAIIF,QAAQ,CAACE,QAAD,CAAR,CAJJ,uDAM2BR,CAAAA,cAAc,CAACW,IAAD,CANzC,SAMUH,SANV,gBAOIF,QAAQ,CAACE,SAAD,CAAR,CAPJ,yDAZ2B,6CAuB3B,mBACE,8BACE,cAAY,0BADd,CAEE,QAAQ,CAAGC,UAFb,CAGE,SAAS,CAAC,kBAHZ,CAIE,aAAW,sBAJb,eAME,8BACE,KAAK,CAAC,KADR,CAEE,cAAY,YAFd,CAGE,cAAc,KAHhB,QANF,CAaGL,KAAK,CAACU,GAAN,CAAU,kBAAGC,CAAAA,OAAH,MAAGA,OAAH,oBACT,8BACE,GAAG,CAAGA,OADR,CAEE,KAAK,CAAGA,OAFV,CAGE,wBAAiBA,OAAjB,WAHF,EAKIA,OALJ,CADS,EAAV,CAbH,CADF,CAyBD,CAED,cAAeZ,CAAAA,iBAAf","sourcesContent":["import React, { useContext, useState, useEffect } from 'react';\nimport { getAreas, getMealsByArea, getMeals } from '../services/requestApi';\nimport ContextAppReceita from '../ContextAPI/ContextAppReceita';\n\nfunction RenderAreaOptions() {\n  const [areas, setAreas] = useState([]);\n  const { setMeals } = useContext(ContextAppReceita);\n\n  useEffect(() => {\n    async function getAreasFunc() {\n      const response = await getAreas();\n      setAreas(response);\n    }\n    getAreasFunc();\n  }, []);\n\n  async function changeArea(e) {\n    const area = e.target.value;\n    if (area === 'All') {\n      const response = await getMeals();\n      setMeals(response);\n    } else {\n      const response = await getMealsByArea(area);\n      setMeals(response);\n    }\n  }\n\n  return (\n    <select\n      data-testid=\"explore-by-area-dropdown\"\n      onChange={ changeArea }\n      className=\"form-select my-3\"\n      aria-label=\"Selecione uma regiao\"\n    >\n      <option\n        value=\"All\"\n        data-testid=\"All-option\"\n        defaultChecked\n      >\n        All\n      </option>\n      {areas.map(({ strArea }) => (\n        <option\n          key={ strArea }\n          value={ strArea }\n          data-testid={ `${strArea}-option` }\n        >\n          { strArea }\n        </option>\n      ))}\n    </select>\n  );\n}\n\nexport default RenderAreaOptions;\n"]},"metadata":{},"sourceType":"module"}