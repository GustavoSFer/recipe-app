{"ast":null,"code":"import _toConsumableArray from\"/home/gustavo/github/recipe-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";export function addMealsToken(token){localStorage.setItem('mealsToken',token);}export function addCocktailsToken(token){localStorage.setItem('cocktailsToken',token);}export function saveUser(email){var user=JSON.stringify({email:email});localStorage.setItem('user',user);}export function getUser(){var user=localStorage.getItem('user');if(user){return JSON.parse(user);}return{email:'default-email@email.com'};}export function exitUser(){localStorage.removeItem('user');localStorage.removeItem('mealsToken');localStorage.removeItem('cocktailsToken');localStorage.removeItem('doneRecipes');localStorage.removeItem('favoriteRecipes');localStorage.removeItem('inProgressRecipes');}export function doneRecipe(recipe){var actualDoneRecipes=JSON.parse(localStorage.getItem('doneRecipes'));if(actualDoneRecipes){var newDoneRecipes=actualDoneRecipes.filter(function(curRecipe){return curRecipe.id!==recipe.id;});localStorage.setItem('doneRecipes',JSON.stringify([].concat(_toConsumableArray(newDoneRecipes),[recipe])));}else{localStorage.setItem('doneRecipes',JSON.stringify([recipe]));}}export function catchDoneRecipes(){return JSON.parse(localStorage.getItem('doneRecipes'));}export function isDoneRecipe(id){var doneRecipes=JSON.parse(localStorage.getItem('doneRecipes'));if(!doneRecipes)return false;return doneRecipes.some(function(recipe){return recipe.id===id;});}export function setInProgressRecipe(id,array,type){var inProgressRecipes=JSON.parse(localStorage.getItem('inProgressRecipes'));var local=type==='bebida'?'cocktails':'meals';if(!inProgressRecipes){var newInProgressRecipes={cocktails:{},meals:{}};newInProgressRecipes[local][id]=array;localStorage.setItem('inProgressRecipes',JSON.stringify(newInProgressRecipes));}else{inProgressRecipes[local][id]=array;localStorage.setItem('inProgressRecipes',JSON.stringify(inProgressRecipes));}}export function removeRecipeInProgress(id,type){var inProgressRecipes=JSON.parse(localStorage.getItem('inProgressRecipes'));if(!inProgressRecipes)return false;if(type==='comida'){delete inProgressRecipes.meals[id];}else{delete inProgressRecipes.cocktails[id];}localStorage.setItem('inProgressRecipes',JSON.stringify(inProgressRecipes));}export function isInProgressRecipes(id,type){var inProgressRecipes=JSON.parse(localStorage.getItem('inProgressRecipes'));if(!inProgressRecipes)return false;if(type==='comidas'){return Object.keys(inProgressRecipes.meals).some(function(key){return key===id;});}return Object.keys(inProgressRecipes.cocktails).some(function(key){return key===id;});}export function getRecipeInProgress(id,type){var inProgessRecipe=JSON.parse(localStorage.getItem('inProgressRecipes'));var local=type==='bebida'?'cocktails':'meals';if(inProgessRecipe)return inProgessRecipe[local][id]||[];return[];}export function isFavoriteRecipe(id){var favorites=JSON.parse(localStorage.getItem('favoriteRecipes'))||[];return favorites.some(function(favorite){return favorite.id.includes(id);});}export function getFavorites(){var favorites=JSON.parse(localStorage.getItem('favoriteRecipes'));return favorites||[];}export function updateFavorite(fav){var favorites=JSON.parse(localStorage.getItem('favoriteRecipes'))||[];if(favorites.some(function(cur){return cur.id===fav.id;})){var newFav=favorites.filter(function(cur){return cur.id!==fav.id;});localStorage.setItem('favoriteRecipes',JSON.stringify(newFav));}else{favorites.push(fav);localStorage.setItem('favoriteRecipes',JSON.stringify(favorites));}}","map":{"version":3,"sources":["/home/gustavo/github/recipe-app/src/localStorage/index.js"],"names":["addMealsToken","token","localStorage","setItem","addCocktailsToken","saveUser","email","user","JSON","stringify","getUser","getItem","parse","exitUser","removeItem","doneRecipe","recipe","actualDoneRecipes","newDoneRecipes","filter","curRecipe","id","catchDoneRecipes","isDoneRecipe","doneRecipes","some","setInProgressRecipe","array","type","inProgressRecipes","local","newInProgressRecipes","cocktails","meals","removeRecipeInProgress","isInProgressRecipes","Object","keys","key","getRecipeInProgress","inProgessRecipe","isFavoriteRecipe","favorites","favorite","includes","getFavorites","updateFavorite","fav","cur","newFav","push"],"mappings":"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","sourcesContent":["export function addMealsToken(token) {\n  localStorage.setItem('mealsToken', token);\n}\n\nexport function addCocktailsToken(token) {\n  localStorage.setItem('cocktailsToken', token);\n}\n\nexport function saveUser(email) {\n  const user = JSON.stringify({ email });\n  localStorage.setItem('user', user);\n}\n\nexport function getUser() {\n  const user = localStorage.getItem('user');\n  if (user) {\n    return JSON.parse(user);\n  }\n  return { email: 'default-email@email.com' };\n}\n\nexport function exitUser() {\n  localStorage.removeItem('user');\n  localStorage.removeItem('mealsToken');\n  localStorage.removeItem('cocktailsToken');\n  localStorage.removeItem('doneRecipes');\n  localStorage.removeItem('favoriteRecipes');\n  localStorage.removeItem('inProgressRecipes');\n}\n\nexport function doneRecipe(recipe) {\n  const actualDoneRecipes = JSON.parse(localStorage.getItem('doneRecipes'));\n  if (actualDoneRecipes) {\n    const newDoneRecipes = actualDoneRecipes\n      .filter((curRecipe) => curRecipe.id !== recipe.id);\n    localStorage.setItem('doneRecipes', JSON.stringify([...newDoneRecipes, recipe]));\n  } else {\n    localStorage.setItem('doneRecipes', JSON.stringify([recipe]));\n  }\n}\n\nexport function catchDoneRecipes() {\n  return JSON.parse(localStorage.getItem('doneRecipes'));\n}\n\nexport function isDoneRecipe(id) {\n  const doneRecipes = JSON.parse(localStorage.getItem('doneRecipes'));\n  if (!doneRecipes) return false;\n  return doneRecipes.some((recipe) => recipe.id === id);\n}\n\nexport function setInProgressRecipe(id, array, type) {\n  const inProgressRecipes = JSON.parse(localStorage.getItem('inProgressRecipes'));\n  const local = type === 'bebida' ? 'cocktails' : 'meals';\n  if (!inProgressRecipes) {\n    const newInProgressRecipes = {\n      cocktails: {},\n      meals: {},\n    };\n    newInProgressRecipes[local][id] = array;\n    localStorage.setItem('inProgressRecipes', JSON.stringify(newInProgressRecipes));\n  } else {\n    inProgressRecipes[local][id] = array;\n    localStorage.setItem('inProgressRecipes', JSON.stringify(inProgressRecipes));\n  }\n}\n\nexport function removeRecipeInProgress(id, type) {\n  const inProgressRecipes = JSON.parse(localStorage.getItem('inProgressRecipes'));\n  if (!inProgressRecipes) return false;\n  if (type === 'comida') {\n    delete inProgressRecipes.meals[id];\n  } else {\n    delete inProgressRecipes.cocktails[id];\n  }\n  localStorage.setItem('inProgressRecipes', JSON.stringify(inProgressRecipes));\n}\n\nexport function isInProgressRecipes(id, type) {\n  const inProgressRecipes = JSON.parse(localStorage.getItem('inProgressRecipes'));\n  if (!inProgressRecipes) return false;\n  if (type === 'comidas') {\n    return Object.keys(inProgressRecipes.meals).some((key) => key === id);\n  }\n  return Object.keys(inProgressRecipes.cocktails).some((key) => key === id);\n}\n\nexport function getRecipeInProgress(id, type) {\n  const inProgessRecipe = JSON.parse(localStorage.getItem('inProgressRecipes'));\n  const local = type === 'bebida' ? 'cocktails' : 'meals';\n  if (inProgessRecipe) return inProgessRecipe[local][id] || [];\n  return [];\n}\n\nexport function isFavoriteRecipe(id) {\n  const favorites = JSON.parse(localStorage.getItem('favoriteRecipes')) || [];\n  return (favorites.some((favorite) => (favorite.id).includes(id)));\n}\n\nexport function getFavorites() {\n  const favorites = JSON.parse(localStorage.getItem('favoriteRecipes'));\n  return favorites || [];\n}\n\nexport function updateFavorite(fav) {\n  const favorites = JSON.parse(localStorage.getItem('favoriteRecipes')) || [];\n  if (favorites.some((cur) => cur.id === fav.id)) {\n    const newFav = favorites.filter((cur) => cur.id !== fav.id);\n    localStorage.setItem('favoriteRecipes', JSON.stringify(newFav));\n  } else {\n    favorites.push(fav);\n    localStorage.setItem('favoriteRecipes', JSON.stringify(favorites));\n  }\n}\n"]},"metadata":{},"sourceType":"module"}